// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Post {
  id               String   @id @default(uuid())
  slug             String   @unique
  title            String
  content          String
  publishedAt      DateTime @default(now())
  author           String
  metaTitle        String?
  metaDescription  String?
  shortDescription String?
  headerImage      String?
  category         String   // Enums are limited in SQLite, using String for flexibility
  tags             String?  // Storing as comma-separated string for simplicity
  replies          Int      @default(0)
  views            Int      @default(0)
  thumbnail        String?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model Event {
  id               String   @id @default(uuid())
  slug             String   @unique
  title            String
  date             DateTime
  location         String
  description      String
  metaTitle        String?
  metaDescription  String?
  shortDescription String?
  headerImage      String?
  category         String
  organizer        String
  imageUrl         String?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model Tool {
  id               String   @id @default(uuid())
  slug             String   @unique
  title            String
  description      String
  url              String
  category         String   // e.g., "AI Tools", "AdTech"
  imageUrl         String?
  pricing          String?
  features         String[]
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model Kpi {
  id               String   @id @default(uuid())
  slug             String   @unique
  title            String
  description      String
  formula          String   // String representation of the formula
  fields           String   // JSON string defining required inputs (name, label, type)
  seoTitle         String?
  seoDescription   String?
  category         String   // E.g., "Marketing", "Finance"
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}
